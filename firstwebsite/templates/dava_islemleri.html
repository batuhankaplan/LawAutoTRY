<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dava İşlemleri - Kaplan Hukuk Otomasyon</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <div class="logo">
                <h2>KAPLAN HUKUK OTOMASYON</h2>
            </div>
            <ul class="nav-links">
                <li><a href="{{ url_for('anasayfa') }}"><i class="material-icons">home</i>Ana Sayfa</a></li>
                <li><a href="{{ url_for('takvim') }}"><i class="material-icons">calendar_today</i>Takvim</a></li>
                <li>
                    <a href="javascript:void(0);" onclick="toggleDropdown('dosyalarim-dropdown')"><i class="material-icons">folder</i>Dosyalarım</a>
                    <ul id="dosyalarim-dropdown" class="dropdown">
                        <li><a href="{{ url_for('dosya_sorgula') }}">Dosya Sorgula</a></li>
                        <li><a href="{{ url_for('dosya_ekle') }}">Dosya Ekle</a></li>
                    </ul>
                </li>
                <li><a href="{{ url_for('dava_islemleri') }}"><i class="material-icons">gavel</i>Dava İşlemleri</a></li>
                <li><a href="{{ url_for('duyurular') }}"><i class="material-icons">notifications</i>Duyurular</a></li>
                <li><a href="{{ url_for('odemeler') }}"><i class="material-icons">payment</i>Ödemeler</a></li>
            </ul>
        </nav>
        
        <main class="content">
            <header>
                <h1>Dava İşlemleri</h1>
            </header>

            <!-- Arama Formu -->
            <div class="form-container">
                <div class="section-title">
                    <h2>Dava Arama</h2>
                </div>
                <form method="POST" class="search-form">
                    <div class="form-grid">
                        <div class="input-group">
                            <label for="case-type">Dava Türü</label>
                            <select id="case-type" name="case-type">
                                <option value="">Tümü</option>
                                <option value="ceza">Ceza</option>
                                <option value="hukuk">Hukuk</option>
                                <option value="icra">İcra</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="case-year">Yıl</label>
                            <input type="number" id="case-year" name="case-year">
                        </div>
                        <div class="input-group">
                            <label for="case-number">Dava No</label>
                            <input type="text" id="case-number" name="case-number">
                        </div>
                        <div class="input-group">
                            <label for="client-name">Müvekkil Adı</label>
                            <input type="text" id="client-name" name="client-name">
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn">Ara</button>
                    </div>
                </form>
            </div>

            <!-- Dava Listesi -->
            <div class="table-container">
                <div class="section-title">
                    <h2>Dava Listesi</h2>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Dava Türü</th>
                            <th>Yıl</th>
                            <th>Dava No</th>
                            <th>Müvekkil Adı</th>
                            <th>Durum</th>
                            <th>İşlemler</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for case in cases %}
                        <tr>
                            <td>{{ case.case_type }}</td>
                            <td>{{ case.year }}</td>
                            <td>{{ case.case_number }}</td>
                            <td>{{ case.client_name }}</td>
                            <td><span class="status-badge">Aktif</span></td>
                            <td class="actions">
                                <button class="btn btn-icon" title="Görüntüle">
                                    <i class="material-icons">visibility</i>
                                </button>
                                <button class="btn btn-icon" title="Düzenle">
                                    <i class="material-icons">edit</i>
                                </button>
                                <button class="btn btn-icon btn-danger" title="Sil">
                                    <i class="material-icons">delete</i>
                                </button>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            <!-- Evrak Yükleme -->
            <div class="form-container">
                <div class="section-title">
                    <h2>Evrak Yükleme</h2>
                </div>
                <form method="POST" enctype="multipart/form-data" class="upload-form">
                    <div class="form-grid">
                        <div class="input-group">
                            <label for="document-type">Evrak Türü</label>
                            <select id="document-type" name="document-type" required>
                                <option value="">Seçiniz</option>
                                <option value="dava">Dava Dilekçesi</option>
                                <option value="delil">Delil</option>
                                <option value="karar">Mahkeme Kararı</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="file">Dosya</label>
                            <input type="file" id="file" name="file" required>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn">Yükle</button>
                    </div>
                </form>
            </div>

            <!-- Yüklenen Evraklar -->
            <div class="table-container">
                <div class="section-title">
                    <h2>Yüklenen Evraklar</h2>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Evrak Adı</th>
                            <th>Türü</th>
                            <th>Yükleme Tarihi</th>
                            <th>Boyut</th>
                            <th>İşlemler</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for document in documents %}
                        <tr>
                            <td>{{ document.filename }}</td>
                            <td>{{ document.type }}</td>
                            <td>{{ document.upload_date }}</td>
                            <td>{{ document.size }}</td>
                            <td class="actions">
                                <button class="btn btn-icon" title="İndir">
                                    <i class="material-icons">download</i>
                                </button>
                                <button class="btn btn-icon btn-danger" title="Sil">
                                    <i class="material-icons">delete</i>
                                </button>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </main>
    </div>
    <script>
    function toggleDropdown(id) {
        var element = document.getElementById(id);
        if (element.style.display === "none" || element.style.display === "") {
            element.style.display = "block";
        } else {
            element.style.display = "none";
        }
    }
    </script>
</body>
</html>