{% extends "layout.html" %}

{% block title %}Harç Hesaplama{% endblock %}

{% block content %}
<div class="calculator-container">
    <h3><i class="material-icons">account_balance</i> Hukuk Harç Hesaplama</h3>
    
    <div class="form-group">
        <label>Harç Türü</label>
        <select id="harcTuru" onchange="harcTuruDegisti()">
            <option value="">Harç Türü Seçin</option>
            <option value="basvurma">Başvurma Harcı</option>
            <option value="karar">Karar ve İlam Harcı</option>
            <option value="icra">İcra Tahsil Harcı</option>
            <option value="temyiz">Temyiz Başvuru Harcı</option>
            <option value="istinaf">İstinaf Başvuru Harcı</option>
            <option value="keşif">Keşif Harcı</option>
        </select>
    </div>

    <div class="form-group">
        <label>Dava/Takip Değeri (TL)</label>
        <input type="number" id="davaDegeri" step="0.01">
    </div>

    <button onclick="hesaplaHarc()" class="calculate-btn">Hesapla</button>

    <div id="harcSonuc" class="result-box"></div>
</div>

<style>
.calculator-container {
    max-width: 800px;
    margin: 20px auto;
    padding: 20px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    color: #333;
}

.form-group select,
.form-group input {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 16px;
}

.calculate-btn {
    background: #2c3e50;
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 4px;
    cursor: pointer;
    width: 100%;
    font-size: 16px;
}

.calculate-btn:hover {
    background: #34495e;
}

.result-box {
    margin-top: 20px;
    padding: 15px;
    background: #f8f9fa;
    border-radius: 4px;
    border: 1px solid #ddd;
    display: none;
}

h3 {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 20px;
    color: #2c3e50;
}
</style>

<script>
const harcOranlari = {
    basvurma: {
        oran: 0.0594,
        sabit: 80.70
    },
    karar: {
        oran: 0.0666,
        sabit: 80.70
    },
    icra: {
        oran: 0.0099,
        sabit: 80.70
    },
    temyiz: {
        oran: 0.0594,
        sabit: 269.00
    },
    istinaf: {
        oran: 0.0396,
        sabit: 176.70
    },
    keşif: {
        sabit: 403.30
    }
};

function hesaplaHarc() {
    const harcTuru = document.getElementById('harcTuru').value;
    const davaDegeri = parseFloat(document.getElementById('davaDegeri').value) || 0;
    
    if (!harcTuru) {
        alert('Lütfen harç türü seçin');
        return;
    }
    
    let sonuc = 0;
    const harcBilgi = harcOranlari[harcTuru];
    
    if (harcTuru === 'keşif') {
        sonuc = harcBilgi.sabit;
    } else {
        sonuc = Math.max(harcBilgi.sabit, davaDegeri * harcBilgi.oran);
    }
    
    const sonucDiv = document.getElementById('harcSonuc');
    sonucDiv.innerHTML = `
        <p><strong>Harç Tutarı:</strong> ${sonuc.toLocaleString('tr-TR', {minimumFractionDigits: 2})} TL</p>
        <p><small>Not: Bu hesaplama tahmini değerler içerir. Kesin harç tutarı için mahkeme veznesine başvurunuz.</small></p>
    `;
    sonucDiv.style.display = 'block';
}
</script>
{% endblock %} 